(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function c(a){a=e.json?JSON.stringify(a):String(a);return e.raw?a:encodeURIComponent(a)}function d(c,d){var f;if(e.raw)f=c;else a:{var g=c;0===g.indexOf('"')&&(g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{g=decodeURIComponent(g.replace(b," "));f=e.json?JSON.parse(g):g;break a}catch(l){}f=void 0}return a.isFunction(d)?d(f):f}var b=/\+/g,e=
a.cookie=function(b,k,f){if(void 0!==k&&!a.isFunction(k)){f=a.extend({},e.defaults,f);if("number"===typeof f.expires){var g=f.expires,l=f.expires=new Date;l.setTime(+l+864E5*g)}return document.cookie=[e.raw?b:encodeURIComponent(b),"=",c(k),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}f=b?void 0:{};for(var g=document.cookie?document.cookie.split("; "):[],l=0,p=g.length;l<p;l++){var m=g[l].split("="),n;
n=m.shift();n=e.raw?n:decodeURIComponent(n);m=m.join("=");if(b&&b===n){f=d(m,k);break}b||void 0===(m=d(m))||(f[n]=m)}return f};e.defaults={};a.removeCookie=function(b,c){if(void 0===a.cookie(b))return!1;a.cookie(b,"",a.extend({},c,{expires:-1}));return!a.cookie(b)}});var hamburger_status=0;$("#backtop").length&&$("#backtop").hide();var nbUnreadArticles=0;
$(document).ready(function(){toggleBacktop();$("#pagination").remove();$("#main").length&&($(window).data("ajaxready",!0),$("#main").append('<div id="loader">'+_t("LOADING")+"</div>"),$(window).data("page",1),$(window).data("nblus",0));0==$(window).scrollTop()&&scrollInfini(!0);if($(".settingsPage").length){$("input[name='articleDisplayContent']").length&&$("input[name='articleDisplayContent']").click(function(){toggleArticleView()});var a=window.location.hash;a.length&&toggleBlocks(a)}nbUnreadArticles=
parseInt($("#nbUnreadArticles").html())});$(document).scroll(function(){toggleBacktop();scrollInfini()});function getUrlVars(){for(var a=[],c,d=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),b=0;b<d.length;b++)c=d[b].split("="),a.push(c[0]),c[1]?(rehash=c[1].split("#"),a[c[0]]=rehash[0]):a[c[0]]="";return a}function toggleBacktop(){var a=parseInt($(window).height());$(document).scrollTop()>=a/3?$("#backtop").show():$("#backtop").hide()}
function scrollInfini(a){"undefined"===typeof a&&(a=!1);var c=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/);if($("#main").length&&!1!=$(window).data("ajaxready")&&($(window).scrollTop()+$(window).height()+1>=$(document).height()||c&&$(window).scrollTop()+$(window).height()+150>$(document).height()||a)){$(window).data("ajaxready",!1);$("#main #loader").show();a=getUrlVars().action;var c=getUrlVars().folder,d=getUrlVars().feed,b=getUrlVars().order,b=b?"&order="+b:"";$.ajax({url:"./article.php",
type:"post",data:"scroll="+$(window).data("page")+"&nblus="+$(window).data("nblus")+"&hightlighted=1&action="+a+"&folder="+c+"&feed="+d+b,success:function(a){""!=a.replace(/^\s+/g,"").replace(/\s+$/g,"")?($("#main #loader").before(a),$("#main .scriptaddbutton").remove(),$("#main article.scroll").fadeIn(600),$("#main article.scroll").removeClass("scroll"),$(window).data("ajaxready",!0),$(window).data("page",$(window).data("page")+1),$(window).data("enCoursScroll",0),0==$(window).scrollTop()&&scrollInfini()):
$("#loader").remove()}});$("#main #loader").fadeOut(400)}}function _t(a,c){value=i18n[a];if(null!=c)for(i=0;i<c.length;i++)value=value.replace("$"+(i+1),c[i]);return value}function toggleFolder(a,c){var d=$("ul",$(a).parent()),b=0;"none"==d.css("display")&&(b=1);d.slideToggle(200);$(a).html(b?"\u25bc":"\u25ba")}
function renameFolder(a,c){var d=$(a).parent().parent(),b=$("h1:first span",d),d=$("h1:first",d),b=b.html();$(a).html(_t("SAVE"));$(a).attr("onclick","saveRenameFolder(this,"+c+")");d.replaceWith('<td><input type="text" class="rename" name="folderName" value="'+b+'"/></td>')}
function saveRenameFolder(a,c){var d=$(a).parent().parent(),d=$("td:first",d),b=$("input",d).val();$(a).html(_t("RENAME"));$(a).attr("onclick","renameFolder(this,"+c+")");d.replaceWith("<td><h1><span>"+b+"</span></h1></td>");$.ajax({url:"./action.php?action=renameFolder",data:{id:c,name:b}})}$("#feedList").addClass("js").before('<div id="menu"><img src="./templates/greeder/img/ham.svg" alt="Feed list" onerror="this.removeAttribute(\'onerror\'); this.src=\'./templates/greeder/img/ham.png\'"></div>');
$("#menu").click(function(){$("#feedList").slideToggle(200);hamburger_status=1-hamburger_status});$(window).resize(function(){1==hamburger_status&&850>window.innerWidth?$("#feedList").css("display","block"):850>window.innerWidth&&$("#feedList").css("display","none");850<window.innerWidth&&$("#feedList").css("display","block")});
function addFavorite(a,c){var d=$("#pageTop").html();$.ajax({url:"./action.php?action=addFavorite",data:{id:c},success:function(b){"noconnect"==b.status?alert(b.texte):($(".favs",$(a).parent().parent()).attr("onclick","removeFavorite(this,"+c+");"),$(a).parent().parent().addClass("favorised"),"favorites"==d&&($(window).data("nblus",$(window).data("nblus")-1),$("#nbarticle").html(parseInt($("#nbarticle").html())+1)))}})}
function removeFavorite(a,c){var d=$("#pageTop").html();$.ajax({url:"./action.php?action=removeFavorite",data:{id:c},success:function(b){"noconnect"==b.status?alert(b.texte):($(".favs",$(a).parent().parent()).attr("onclick","addFavorite(this,"+c+");"),$(a).parent().parent().removeClass("favorised"),"favorites"==d&&($(window).data("nblus",$(window).data("nblus")+1),$("#nbarticle").html(parseInt($("#nbarticle").html())-1)))}})}
function readThis(a,c,d,b){"undefined"===typeof b&&(b=!1);var e=$("#pageTop").html(),h=$(a).parent().parent();$("#"+c).next();h.hasClass("eventRead")?"title"!=d&&$.ajax({url:"./action.php?action=unreadContent",data:{id:c},success:function(a){"noconnect"==a.status?alert(a.texte):(window.nbUnreadArticles++,$("#nbUnreadArticles").html(window.nbUnreadArticles),h.removeClass("eventRead"),""!=e&&"selectedFolder"!=e||$(window).data("nblus",$(window).data("nblus")-1),b&&b())}}):$.ajax({url:"./action.php?action=readContent",
data:{id:c},success:function(a){if("noconnect"==a.status)alert(a.texte);else switch(window.nbUnreadArticles--,$("#nbUnreadArticles").html(window.nbUnreadArticles),e){case "":h.addClass("eventRead");h.fadeOut(200,function(){b&&b();"display: none;"==$("article section:last").attr("style")&&$(window).scrollTop($(document).height())});$(window).data("nblus",$(window).data("nblus")+1);$("#nbarticle").html(parseInt($("#nbarticle").html())-1);break;case "selectedFolder":h.addClass("eventRead");$(window).data("nblus",
$(window).data("nblus")+1);b&&b();break;default:h.addClass("eventRead"),b&&b()}}})}
function toggleArticleDisplayMode(a,c){var d=$(".summary",$("#"+c).parent()),b=$(".content",$("#"+c).parent()),e=$(".articleDetails",$("#"+c).parent());0<d.length&&"display: none;"!=d.attr("style")?(action="content",d.hide(),0==$.trim(b.text()).length?$.ajax({url:"./action.php?action=articleDisplayMode&articleDisplayMode="+action+"&event_id="+c,success:function(c){"noconnect"==c.status?alert(c.texte):(console&&console.log&&""!=c&&console.log(c),b.html(c),b.show(),a.innerHTML="-",a.title=_t("EVENT_DISPLAY_CONTENT"),
e.last().show())}}):(b.show(),a.innerHTML="-",a.title=_t("EVENT_DISPLAY_CONTENT"),e.last().show())):0<b.length&&"display: none;"!=b.attr("style")?(b.hide(),a.innerHTML="+",a.title=_t("EVENT_DISPLAY_TITLE"),1<e.length&&e.last().hide()):(action="summary",0==$.trim(d.text()).length?$.ajax({url:"./action.php?action=articleDisplayMode&articleDisplayMode="+action+"&event_id="+c,success:function(b){"noconnect"==b.status?alert(b.texte):(console&&console.log&&""!=b&&console.log(b),d.html(b),d.show(),a.innerHTML=
"++",a.title=_t("EVENT_DISPLAY_SUMMARY"))}}):(d.show(),a.innerHTML="++",a.title=_t("EVENT_DISPLAY_SUMMARY")))}
function renameFeed(a,c){var d=$(a).parent().parent(),b=$("td.loopFoldersSettingsName",d),e=$("a",b).html(),d=$("td.loopFoldersSettingsLink",d),h=$("a",d).html(),k=b.attr("href");$(a).html(_t("SAVE"));$(a).attr("onclick","saveRenameFeed(this,"+c+',"'+k+'")');b.replaceWith('<td class="loopFoldersSettingsName"><input type="text" name="feedName" value="'+e+'"/></td>');d.replaceWith('<td class="loopFoldersSettingsLink shorten"><input type="text" name="feedUrl" value="'+h+'" /></td>')}
function saveRenameFeed(a,c,d){var b=$(a).parent().parent(),e=$('td.loopFoldersSettingsName input[name="feedName"]',b),h=e.val(),b=$('td.loopFoldersSettingsLink input[name="feedUrl"]',b),k=b.val();$(a).html(_t("RENAME"));$(a).attr("onclick","renameFeed(this,"+c+")");e.replaceWith('<a href="'+d+'">'+h+"</a>");b.replaceWith('<a href="'+k+'">'+k+"</a></span>");$.ajax({url:"./action.php?action=renameFeed",data:{id:c,name:h,url:k}})}
function changeFeedFolder(a,c){var d=$(a).val();window.location="./action.php?action=changeFeedFolder&feed="+c+"&folder="+d}function synchronize(a,c){""!=a?($("main").html('<article><iframe class="importFrame" src="action.php?action=synchronize&amp;format=html&amp;code='+a+'" name="idFrameSynchro" id="idFrameSynchro" height="400"></iframe></article>'),"undefined"===typeof c&&(c=!1),c&&$("iframe#idFrameSynchro").load(function(){c()})):alert(_t("YOU_MUST_BE_CONNECTED_FEED"))}
function toggleBlocks(a){$(a).length?($("main section").hide(),$("section"+a).fadeToggle(200,function(){window.location.hash=a})):window.location.hash=""}function toggleFeedVerbose(a,c,d){$.ajax({url:"./action.php?action=displayFeedIsVerbose&displayFeedIsVerbose="+c+"&idFeed="+d,success:function(b){"noconnect"==b.status?alert(b.texte):(console&&console.log&&""!=b&&console.log(b),b=0,0==c&&(b=1),$(a).attr("onclick","toggleFeedVerbose(this,"+b+", "+d+");"))}})}
function toggleOptionFeedVerbose(a,c){$.ajax({url:"./action.php?action=optionFeedIsVerbose&optionFeedIsVerbose="+c,success:function(d){"noconnect"==d.status?alert(d.texte):(console&&console.log&&""!=d&&console.log(d),d=0,0==c&&(d=1),$(a).attr("onclick","toggleOptionFeedVerbose(this,"+d+");"),1==c?$(".feedVerbose").hide():$(".feedVerbose").show())}})};
//# sourceMappingURL=templates/greeder/js/js.min.js.map
